{"version":3,"sources":["firebase.js","config.js","Resume.js","LandingPage.jsx","Admin.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","Resume","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","positionList","recordActivity","db","firestore","USER_DATA","collection","doc","qualtricsUserId","RESUME_CONTENT","collapsibleOpened","collapsibleToggled","bind","_assertThisInitialized","voteClick","_createClass","key","value","_this2","this","setState","studyVersion","resumeVersion","getResume1Values","displayValues","getResume2Values","callback","isMan","Math","random","isParent","education","work1","work2","isRemote","set","_this3","get","then","resume1values","data","_this4","city","split","nonparent","toString","parent","map","str","trim","filter","Boolean","bulletList","concat","degree","duration","major","university","addPositionToList","eventKey","event","_this5","_defineProperty","target","name","work1_down","work1_q","work2_down","work2_q","work3_down","work3_q","work1_up","work2_up","work3_up","education_up","education_q","education_down","notes_up","notes_q","notes_down","newPosition","prevState","_toConsumableArray","e","clientX","clientY","_this6","length","_jsx","className","children","onMouseMove","_onMouseMove","_jsxs","src","imageToURL","alt","VotingButtons","clickFunction","sectionName","id","remoteNotesText","item","index","Accordion","Card","Header","style","background","paddingLeft","paddingRight","Toggle","as","Button","color","width","display","flexDirection","justifyContent","fontSize","alignItems","variant","onClick","educationSectionOpened","workSectionOpened","Collapse","Body","borderTop","position","title","company","description","Divider","React","Component","imageName","process","_ref","LandingPage","_useState","useState","_useState2","_slicedToArray","iframes","setIframes","renderEmbeddedResume","iframeSrc","iframeTitle","newIframe","height","href","Admin","showPasswordErrorMessage","isAuthenticated","typedText","userIDs","resumeCSVurl","activitiesCSVurl","DATABASE","resumeContent","activityContent","rootElement","document","getElementById","ModalReact","setAppElement","fetchData","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tmp","wrap","_context","prev","next","sent","docs","resumePromises","user","Promise","all","getResumeContent","createCSV","catch","error","console","activityPromises","getActivityContent","stop","apply","arguments","responseID","resumeNum","exists","push","_objectSpread","log","querySnapshot","forEach","activityID","csv","Papa","unparse","blob","Blob","type","URL","createObjectURL","download","isOpen","onSubmit","preventDefault","submitPassword","htmlFor","onChange","handleChange","autoFocus","moment","require","App","activityCounter","loc","location","hash","parseInt","_recordActivity","category","padStart","_x","_x2","_x3","HashRouter","Route","path","render","exact","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.f6a2e03d.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n// Contains sensitive information, so you have to create this file yourself\nimport { firebaseConfig } from \"./config.js\";\n\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;\n","export const adminPassword = \"pass\";\n\nexport const firebaseConfig = {\n\tapiKey: \"AIzaSyBpxU23CO0qhSXEwhe0KimIDfEnvGZI4II\",\n\tauthDomain: \"digital-traces-project.firebaseapp.com\",\n\tprojectId: \"digital-traces-project\",\n\tstorageBucket: \"digital-traces-project.appspot.com\",\n\tmessagingSenderId: \"478692864215\",\n\tappId: \"1:478692864215:web:84c3ed0c74f8fdc51a8092\",\n\tmeasurementId: \"G-XP5P2PWSF3\",\n};\n\nexport const IS_DEMO_VERSION = true;\n","import React from \"react\";\nimport \"./App.css\";\nimport Divider from \"@material-ui/core/Divider\";\nimport firebase from \"./firebase\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\n\nexport default class Resume extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpositionList: [],\n\t\t};\n\n\t\t// Add props to \"this\"\n\t\tthis.recordActivity = this.props.recordActivity;\n\n\t\tconst db = firebase.firestore();\n\t\tthis.USER_DATA = db\n\t\t\t.collection(\"responseIDs\")\n\t\t\t.doc(this.props.qualtricsUserId);\n\t\tthis.RESUME_CONTENT = db.collection(\"resume\");\n\n\t\tthis.collapsibleOpened = this.collapsibleToggled.bind(this);\n\t\tthis.voteClick = this.voteClick.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({ studyVersion: this.props.studyVersion });\n\t\tthis.setState({ resumeVersion: this.props.resumeVersion }, () => {\n\t\t\t// On the first resume, we'll decide the data the user will see in the whole study\n\t\t\tif (this.state.resumeVersion === 1) {\n\t\t\t\tthis.getResume1Values(this.displayValues);\n\t\t\t} else {\n\t\t\t\t// Show the appropriate resume data\n\t\t\t\tthis.getResume2Values(this.displayValues);\n\t\t\t}\n\t\t});\n\t}\n\n\t/** The first resume has randomly-decided values. Decide them and put into state. */\n\tgetResume1Values(callback) {\n\t\t// Select gender\n\t\tconst isMan = Math.random() < 0.5;\n\n\t\t// Select parenthood\n\t\tconst isParent = Math.random() < 0.5;\n\n\t\t// Select education\n\t\t// Could be more than two options in the future\n\t\tconst education = Math.random() < 0.5 ? \"a\" : \"b\";\n\n\t\t// Could be more than two options in the future\n\t\tconst work1 = Math.random() < 0.5 ? \"a\" : \"b\";\n\t\tconst work2 = Math.random() < 0.5 ? \"a\" : \"b\";\n\n\t\t// Decide if remote or not\n\t\t// Only used for study 2! but always calculate it to keep the code simple\n\t\tconst isRemote = Math.random() < 0.5;\n\n\t\t// Store resume 1 values in state\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tisMan: isMan,\n\t\t\t\tisParent: isParent,\n\t\t\t\teducation: education,\n\t\t\t\twork1: work1,\n\t\t\t\twork2: work2,\n\t\t\t\tisRemote: isRemote,\n\t\t\t},\n\t\t\t// Now that info is in state, call the callback\n\t\t\tcallback\n\t\t);\n\n\t\t// Create document for this user\n\t\tthis.USER_DATA.set({});\n\n\t\t// Store resume 1 values in the database\n\t\tthis.USER_DATA.collection(\"values shown\").doc(\"resume 1\").set({\n\t\t\tisMan: isMan,\n\t\t\tisParent: isParent,\n\t\t\teducation: education,\n\t\t\twork1: work1,\n\t\t\twork2: work2,\n\t\t\tisRemote: isRemote,\n\t\t});\n\t}\n\n\t/** The second resume has the opposite values to the first. Calculate them and put into state. */\n\tgetResume2Values(callback) {\n\t\t// Get the values shown to this user for resume 1\n\t\tthis.USER_DATA.collection(\"values shown\")\n\t\t\t.doc(\"resume 1\")\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tconst resume1values = doc.data();\n\t\t\t\t// Same gender\n\t\t\t\tconst isMan = resume1values.isMan;\n\n\t\t\t\t// Opposite parenthood\n\t\t\t\tconst isParent = !resume1values.isParent;\n\n\t\t\t\t// Opposite education\n\t\t\t\t// Could be more than two options in the future, which would need more logic\n\t\t\t\tconst education = resume1values.education === \"a\" ? \"b\" : \"a\";\n\n\t\t\t\t// Opposite work history\n\t\t\t\t// Could be more than two options in the future, which would need more logic\n\t\t\t\tconst work1 = resume1values.work1 === \"a\" ? \"b\" : \"a\";\n\t\t\t\tconst work2 = resume1values.work2 === \"a\" ? \"b\" : \"a\";\n\n\t\t\t\t// Opposite remote status\n\t\t\t\t// Only used for study 2! but always calculate it to keep the code simple\n\t\t\t\tconst isRemote = !resume1values.isRemote;\n\n\t\t\t\t// Store resume 2 values in state\n\t\t\t\tthis.setState(\n\t\t\t\t\t{\n\t\t\t\t\t\tisMan: isMan,\n\t\t\t\t\t\tisParent: isParent,\n\t\t\t\t\t\teducation: education,\n\t\t\t\t\t\twork1: work1,\n\t\t\t\t\t\twork2: work2,\n\t\t\t\t\t\tisRemote: isRemote,\n\t\t\t\t\t},\n\t\t\t\t\t// Now that info is in state, call the callback\n\t\t\t\t\tcallback\n\t\t\t\t);\n\n\t\t\t\t// Store resume 2 values in the database\n\t\t\t\tthis.USER_DATA.collection(\"values shown\").doc(\"resume 2\").set({\n\t\t\t\t\tisMan: isMan,\n\t\t\t\t\tisParent: isParent,\n\t\t\t\t\teducation: education,\n\t\t\t\t\twork1: work1,\n\t\t\t\t\twork2: work2,\n\t\t\t\t\tisRemote: isRemote,\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\t/** Once we've decided the values, actually display them (based on state) */\n\tdisplayValues() {\n\t\t// City\n\t\tthis.RESUME_CONTENT.doc(\"study2_location\")\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tthis.setState({ city: doc.data().city });\n\t\t\t});\n\n\t\t// Initial phone screen notes\n\t\tthis.RESUME_CONTENT.doc(\"notes from initial phone screen\")\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tlet parenthoodText = null;\n\t\t\t\t// Based on parent/nonparent\n\t\t\t\tif (this.state.isParent) {\n\t\t\t\t\tparenthoodText = doc.data().nonparent.toString();\n\t\t\t\t} else {\n\t\t\t\t\tparenthoodText = doc.data().parent.toString();\n\t\t\t\t}\n\n\t\t\t\t// Put the text into a nicer format\n\t\t\t\tlet split = parenthoodText\n\t\t\t\t\t// Split each sentence into a bullet point,\n\t\t\t\t\t.split(\".\")\n\t\t\t\t\t// Clean up whitespace\n\t\t\t\t\t.map((str) => str.trim())\n\t\t\t\t\t// Remove any empty strings (by removing falsy values)\n\t\t\t\t\t.filter(Boolean);\n\t\t\t\tthis.setState({ bulletList: split });\n\t\t\t});\n\n\t\t// Education\n\t\tthis.RESUME_CONTENT.doc(`education ${this.state.education}`)\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tthis.setState({ degree: doc.data().degree });\n\t\t\t\tthis.setState({ duration: doc.data().duration });\n\t\t\t\tthis.setState({ major: doc.data().major });\n\t\t\t\tthis.setState({ university: doc.data().university });\n\t\t\t});\n\n\t\t// Work experience\n\t\tthis.RESUME_CONTENT.doc(`work box 1${this.state.work1}`)\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tthis.addPositionToList(doc.data());\n\t\t\t});\n\t\tthis.RESUME_CONTENT.doc(`work box 2${this.state.work1}`)\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tthis.addPositionToList(doc.data());\n\t\t\t});\n\t}\n\n\t// TODO: move to separate file\n\t/** Called when a section is toggled open/closed */\n\tcollapsibleToggled(eventKey) {\n\t\t// TODO: add open/closed based on state\n\t\tif (eventKey === 0) {\n\t\t\t// Education Section\n\t\t\tthis.recordActivity(\n\t\t\t\t\"collapsibleToggled\",\n\t\t\t\t\"education\",\n\t\t\t\t\"toggled education section \"\n\t\t\t);\n\t\t} else if (eventKey === 1) {\n\t\t\t// Work Section\n\t\t\tthis.recordActivity(\n\t\t\t\t\"collapsibleToggled\",\n\t\t\t\t\"work\",\n\t\t\t\t\"toggled work section \"\n\t\t\t);\n\t\t}\n\t}\n\n\t// TODO: move to separate file\n\t/** Called when one of the upvote/circle/downvote buttons are clicked */\n\tvoteClick(event) {\n\t\tthis.setState(\n\t\t\t{ [event.target.name]: !this.state[event.target.name] },\n\t\t\t() => {\n\t\t\t\tif (this.state[event.target.name]) {\n\t\t\t\t\t// Record the click\n\t\t\t\t\tthis.recordActivity(\n\t\t\t\t\t\t\"click\",\n\t\t\t\t\t\tevent.target.name,\n\t\t\t\t\t\t`clicked ${event.target.name} button`\n\t\t\t\t\t);\n\t\t\t\t\t//unclick the others in the same box\n\t\t\t\t\tif (event.target.name === \"work1_up\") {\n\t\t\t\t\t\tthis.setState({ work1_down: false, work1_q: false });\n\t\t\t\t\t} else if (event.target.name === \"work2_up\") {\n\t\t\t\t\t\tthis.setState({ work2_down: false, work2_q: false });\n\t\t\t\t\t} else if (event.target.name === \"work3_up\") {\n\t\t\t\t\t\tthis.setState({ work3_down: false, work3_q: false });\n\t\t\t\t\t} else if (event.target.name === \"work1_down\") {\n\t\t\t\t\t\tthis.setState({ work1_up: false, work1_q: false });\n\t\t\t\t\t} else if (event.target.name === \"work2_down\") {\n\t\t\t\t\t\tthis.setState({ work2_up: false, work2_q: false });\n\t\t\t\t\t} else if (event.target.name === \"work3_down\") {\n\t\t\t\t\t\tthis.setState({ work3_up: false, work3_q: false });\n\t\t\t\t\t} else if (event.target.name === \"work1_q\") {\n\t\t\t\t\t\tthis.setState({ work1_up: false, work1_down: false });\n\t\t\t\t\t} else if (event.target.name === \"work2_q\") {\n\t\t\t\t\t\tthis.setState({ work2_up: false, work2_down: false });\n\t\t\t\t\t} else if (event.target.name === \"work3_q\") {\n\t\t\t\t\t\tthis.setState({ work3_up: false, work3_down: false });\n\t\t\t\t\t} else if (event.target.name === \"education_down\") {\n\t\t\t\t\t\tthis.setState({ education_up: false, education_q: false });\n\t\t\t\t\t} else if (event.target.name === \"education_up\") {\n\t\t\t\t\t\tthis.setState({ education_down: false, education_q: false });\n\t\t\t\t\t} else if (event.target.name === \"education_q\") {\n\t\t\t\t\t\tthis.setState({ education_up: false, education_down: false });\n\t\t\t\t\t} else if (event.target.name === \"notes_down\") {\n\t\t\t\t\t\tthis.setState({ notes_up: false, notes_q: false });\n\t\t\t\t\t} else if (event.target.name === \"notes_up\") {\n\t\t\t\t\t\tthis.setState({ notes_down: false, notes_q: false });\n\t\t\t\t\t} else if (event.target.name === \"notes_q\") {\n\t\t\t\t\t\tthis.setState({ notes_up: false, notes_down: false });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Record the click\n\t\t\t\t\tthis.recordActivity(\n\t\t\t\t\t\t\"click\",\n\t\t\t\t\t\tevent.target.name,\n\t\t\t\t\t\t`un-clicked ${event.target.name} button`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\t/** Helper function: append a new position to the positionList */\n\taddPositionToList(newPosition) {\n\t\tthis.setState((prevState) => ({\n\t\t\tpositionList: [...prevState.positionList, newPosition],\n\t\t}));\n\t}\n\n\t/** Runs when the user moves the mouse */\n\t_onMouseMove(e) {\n\t\tthis.recordActivity(\"mouse\", `(${e.clientX},${e.clientY})`, \"moved mouse\");\n\t}\n\n\trender() {\n\t\t// If our data hasn't loaded yet, show a loading screen\n\t\tif (!(this.state.bulletList && this.state.positionList.length > 0)) {\n\t\t\treturn <h1>Loading...</h1>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"overall\">\n\t\t\t\t<div className=\"App\" onMouseMove={this._onMouseMove.bind(this)}>\n\t\t\t\t\t<div className=\"resume\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName=\"profile_image\"\n\t\t\t\t\t\t\t\tsrc={imageToURL(this.state.isMan ? \"male_user\" : \"female_user\")}\n\t\t\t\t\t\t\t\talt=\"the candidate\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\t\t\tCandidate {this.state.resumeVersion === 1 ? \"A\" : \"B\"}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"votingblock_notes\">\n\t\t\t\t\t\t\t\t<VotingButtons\n\t\t\t\t\t\t\t\t\tstate={this.state}\n\t\t\t\t\t\t\t\t\tclickFunction={this.voteClick}\n\t\t\t\t\t\t\t\t\tsectionName=\"notes\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<div className=\"notes\">\n\t\t\t\t\t\t\t\t\tNotes from Initial Phone Screen:\n\t\t\t\t\t\t\t\t\t<span id=\"subtext_bullet\">\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.remoteNotesText && (\n\t\t\t\t\t\t\t\t\t\t\t\t<li>{this.state.remoteNotesText}</li>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t{this.state.bulletList.map((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <li key={index}>{item}</li>;\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<Card.Header\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tbackground: \"white\",\n\t\t\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\n\t\t\t\t\t\t\t\t\t\t\tpaddingRight: 0,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle\n\t\t\t\t\t\t\t\t\t\t\tas={Button}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"18px\",\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\teventKey=\"0\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t// TODO: clean this up\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teducationSectionOpened:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!this.state.educationSectionOpened,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.collapsibleToggled(0);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.state.educationSectionOpened) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({ workSectionOpened: false });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tEducation{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"toggle_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.educationSectionOpened\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? imageToURL(\"minus_icon\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: imageToURL(\"plus_icon\")\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"toggle icon\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"votingblock\">\n\t\t\t\t\t\t\t\t\t\t\t\t<VotingButtons\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate={this.state}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsectionName={\"education\"}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subtext\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.university}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfo\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.degree}, {this.state.major}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfogray\">{this.state.duration}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t\t<Card.Header\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tbackground: \"white\",\n\t\t\t\t\t\t\t\t\t\t\tpaddingLeft: 0,\n\t\t\t\t\t\t\t\t\t\t\tpaddingRight: 0,\n\t\t\t\t\t\t\t\t\t\t\tborderTop: \"1px solid black\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Accordion.Toggle\n\t\t\t\t\t\t\t\t\t\t\tas={Button}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"18px\",\n\t\t\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\t\t\t\teventKey=\"1\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tworkSectionOpened: !this.state.workSectionOpened,\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.collapsibleToggled(1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.state.workSectionOpened) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teducationSectionOpened: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tWork Experience {/* TODO: make toggle bars a component */}\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"toggle_icon\"\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.workSectionOpened\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? imageToURL(\"minus_icon\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: imageToURL(\"plus_icon\")\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"toggle icon\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t</Card.Header>\n\n\t\t\t\t\t\t\t\t\t{/* Position List */}\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"1\">\n\t\t\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.positionList.map((position, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"votingblock\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<VotingButtons\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate={this.state}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickFunction={this.voteClick}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsectionName={`work${index + 1}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subtext\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{position.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"horizontal\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfo\">{position.company}</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/*remote && study version 2*/}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.studyVersion === 2 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.isRemote &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex === 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfo\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i>Remote</i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.studyVersion === 2 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!this.state.isRemote &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex === 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfo\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{this.state.city}</i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.studyVersion === 2 &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex !== 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfo\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{this.state.city}</i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfogray\">{position.duration}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div id=\"subinfo\">{position.description}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/**\n * Turns an image name into the src, relative to /public/images. Image should be a png.\n */\nfunction imageToURL(imageName) {\n\treturn `${process.env.PUBLIC_URL}/images/${imageName}.png`;\n}\n\n// TODO: default params for state, clickFunction\n/** Component: upvote, circle, and downvote, in traffic light colors. */\nconst VotingButtons = ({ state, clickFunction, sectionName }) => {\n\treturn (\n\t\t<div className=\"vertical\">\n\t\t\t<img\n\t\t\t\tname={`${sectionName}_up`}\n\t\t\t\tsrc={\n\t\t\t\t\tstate[`${sectionName}_up`]\n\t\t\t\t\t\t? imageToURL(\"upvote_selected\")\n\t\t\t\t\t\t: imageToURL(\"upvote\")\n\t\t\t\t}\n\t\t\t\tonClick={clickFunction}\n\t\t\t\talt=\"upvote\"\n\t\t\t/>\n\n\t\t\t<img\n\t\t\t\tname={`${sectionName}_q`}\n\t\t\t\tsrc={\n\t\t\t\t\tstate[`${sectionName}_q`]\n\t\t\t\t\t\t? imageToURL(\"circle_selected\")\n\t\t\t\t\t\t: imageToURL(\"circle\")\n\t\t\t\t}\n\t\t\t\tonClick={clickFunction}\n\t\t\t\talt=\"question mark\"\n\t\t\t/>\n\n\t\t\t<img\n\t\t\t\tname={`${sectionName}_down`}\n\t\t\t\tsrc={\n\t\t\t\t\tstate[`${sectionName}_down`]\n\t\t\t\t\t\t? imageToURL(\"downvote_selected\")\n\t\t\t\t\t\t: imageToURL(\"downvote\")\n\t\t\t\t}\n\t\t\t\tonClick={clickFunction}\n\t\t\t\talt=\"downvote\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import React, { useState } from \"react\";\n\nexport default function LandingPage() {\n\tconst [iframes, setIframes] = useState([]);\n\n\tconst renderEmbeddedResume = (studyVersion, resumeVersion) => {\n\t\tconst iframeSrc = `/online-survey-digital-trace-data/#/${studyVersion}/${resumeVersion}/0sampleResponseIDstudy${studyVersion}`;\n\t\tconst iframeTitle = `${studyVersion}${resumeVersion}`;\n\n\t\tconst newIframe = (\n\t\t\t<iframe\n\t\t\t\tkey={iframeTitle}\n\t\t\t\theight=\"630px\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\tsrc={iframeSrc}\n\t\t\t\ttitle={iframeTitle}\n\t\t\t></iframe>\n\t\t);\n\t\tsetIframes([...iframes, newIframe]);\n\t};\n\n\treturn (\n\t\t<div className=\"LandingPage container\">\n\t\t\t<h1>Pretend this is the Qualtrics Survey</h1>\n\n\t\t\t<h2>You'll have some questions</h2>\n\t\t\t<p>And information and such</p>\n\n\t\t\t<p>And then you can embed the Digital Trace Data page.</p>\n\t\t\t<p>\n\t\t\t\t<strong>\n\t\t\t\t\tTODO: these are based on the studyVersion in the code, which does not\n\t\t\t\t\talign to the DTD paper.\n\t\t\t\t</strong>\n\t\t\t</p>\n\n\t\t\t<h2>Study 1</h2>\n\n\t\t\t<p>\n\t\t\t\tIn Study 1, we are manipulating candidate gender and parenthood status.\n\t\t\t</p>\n\n\t\t\t<p>There are two resumes. Here's Candidate A.</p>\n\n\t\t\t<h3>First Resume</h3>\n\n\t\t\t<button onClick={() => renderEmbeddedResume(1, 1)}>\n\t\t\t\tGenerate Candidate A resume\n\t\t\t</button>\n\t\t\t{iframes.length >= 1 && iframes[0]}\n\n\t\t\t<h3>Second Resume</h3>\n\n\t\t\t<p>And now Candidate B.</p>\n\n\t\t\t<button onClick={() => renderEmbeddedResume(1, 2)}>\n\t\t\t\tGenerate Candidate A resume\n\t\t\t</button>\n\t\t\t{iframes.length >= 2 && iframes[1]}\n\n\t\t\t<h2>Study 2</h2>\n\n\t\t\t<p>\n\t\t\t\tIn Study 2, we are additionally manipulating if the candidate has remote\n\t\t\t\twork experience.\n\t\t\t</p>\n\n\t\t\t<p>There are two resumes. Here's Candidate A.</p>\n\n\t\t\t<h3>First Resume</h3>\n\n\t\t\t<button onClick={() => renderEmbeddedResume(2, 1)}>\n\t\t\t\tGenerate Candidate A resume\n\t\t\t</button>\n\t\t\t{iframes.length >= 3 && iframes[2]}\n\n\t\t\t<h3>Second Resume</h3>\n\n\t\t\t<p>And now Candidate B.</p>\n\n\t\t\t<button onClick={() => renderEmbeddedResume(2, 2)}>\n\t\t\t\tGenerate Candidate A resume\n\t\t\t</button>\n\t\t\t{iframes.length >= 4 && iframes[3]}\n\n\t\t\t<h2>Downloading the Data</h2>\n\t\t\t<p>\n\t\t\t\tOnce you've run your study, you can download the data in CSV format at{\" \"}\n\t\t\t\t<a href=\"#/admin\">/admin</a>. In this demo, you can download the data no\n\t\t\t\tmatter what password you put in.\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport firebase from \"./firebase\";\nimport Papa from \"papaparse\";\nimport ModalReact from \"react-modal\";\nimport { IS_DEMO_VERSION, adminPassword } from \"./config\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nclass Admin extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowPasswordErrorMessage: false,\n\t\t\tisAuthenticated: false,\n\t\t\ttypedText: \"\",\n\n\t\t\tuserIDs: [],\n\t\t\tresumeCSVurl: null,\n\t\t\tactivitiesCSVurl: null,\n\t\t};\n\n\t\tthis.DATABASE = firebase.firestore();\n\n\t\tthis.resumeContent = [];\n\t\tthis.activityContent = [];\n\n\t\t// Ensures screen readers don't see the content while the modal is open\n\t\tconst rootElement = document.getElementById(\"root\");\n\t\tModalReact.setAppElement(rootElement);\n\t}\n\n\t/** Handles typing in the password box */\n\thandleChange(event) {\n\t\tthis.setState({ showPasswordErrorMessage: false });\n\t\tthis.setState({ typedText: event.target.value });\n\t}\n\n\t/** When the submit button is clicked */\n\tsubmitPassword() {\n\t\tif (this.state.typedText === adminPassword || IS_DEMO_VERSION) {\n\t\t\tthis.setState({ isAuthenticated: true });\n\t\t\tthis.fetchData();\n\t\t} else {\n\t\t\tthis.setState({ showPasswordErrorMessage: true, isAuthenticated: false });\n\t\t}\n\t}\n\n\t/** Main function that kick-starts all the downloading */\n\tasync fetchData() {\n\t\tlet userIDs = null;\n\n\t\t// In the demo version, only use the sample response IDs\n\t\tif (IS_DEMO_VERSION) {\n\t\t\tuserIDs = [\"0sampleResponseIDstudy1\", \"0sampleResponseIDstudy2\"];\n\t\t} else {\n\t\t\tconst tmp = await this.DATABASE.collection(\"responseIDs\").get();\n\t\t\tuserIDs = tmp.docs.map((doc) => doc.id);\n\t\t}\n\n\t\tif (userIDs.length > 0) {\n\t\t\tthis.setState({ userIDs: userIDs }, () => {\n\t\t\t\t// Get resume content for each user\n\t\t\t\tconst resumePromises = userIDs.map((user) => {\n\t\t\t\t\treturn Promise.all([\n\t\t\t\t\t\tthis.getResumeContent(user, 1),\n\t\t\t\t\t\tthis.getResumeContent(user, 2),\n\t\t\t\t\t]);\n\t\t\t\t});\n\n\t\t\t\t// Wait for all promises to resolve\n\t\t\t\tPromise.all(resumePromises)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// Create a CSV from the resume content\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tresumeCSVurl: this.createCSV(this.resumeContent),\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.error(\"Error fetching resumes:\", error);\n\t\t\t\t\t});\n\n\t\t\t\t// Get activity content for each user\n\t\t\t\tconst activityPromises = userIDs.map((user) => {\n\t\t\t\t\treturn Promise.all([\n\t\t\t\t\t\tthis.getActivityContent(user, 1),\n\t\t\t\t\t\tthis.getActivityContent(user, 2),\n\t\t\t\t\t]);\n\t\t\t\t});\n\n\t\t\t\t// Wait for all promises to resolve\n\t\t\t\tPromise.all(activityPromises)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t// Create a CSV from the activity content\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tactivitiesCSVurl: this.createCSV(this.activityContent),\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.error(\"Error fetching activity:\", error);\n\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\t/** Get the content of the resume a user saw */\n\tgetResumeContent(responseID, resumeNum) {\n\t\t// Get the reference to the resume\n\t\tconst resumeRef = this.DATABASE.collection(\"responseIDs\")\n\t\t\t.doc(responseID)\n\t\t\t.collection(\"values shown\")\n\t\t\t.doc(`resume ${resumeNum}`);\n\n\t\t// Get the content of the resume\n\t\treturn resumeRef\n\t\t\t.get()\n\t\t\t.then((doc) => {\n\t\t\t\tif (doc.exists) {\n\t\t\t\t\tthis.resumeContent.push({\n\t\t\t\t\t\tresponseID: responseID,\n\t\t\t\t\t\tresumeNum: resumeNum,\n\t\t\t\t\t\t...doc.data(),\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"No such document!\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(\"Error getting document:\", error);\n\t\t\t});\n\t}\n\n\t/** Get the activity of a user on a specific resume */\n\tgetActivityContent(responseID, resumeNum) {\n\t\t// Get the reference to the resume\n\t\tconst resumeRef = this.DATABASE.collection(\"responseIDs\")\n\t\t\t.doc(responseID)\n\t\t\t.collection(`activityData_resume${resumeNum}`);\n\n\t\t// Get the content of the resume\n\t\treturn resumeRef.get().then((querySnapshot) => {\n\t\t\tquerySnapshot.forEach((doc) => {\n\t\t\t\tthis.activityContent.push({\n\t\t\t\t\tresponseID: responseID,\n\t\t\t\t\tresumeNum: resumeNum,\n\t\t\t\t\tactivityID: doc.id,\n\t\t\t\t\t...doc.data(),\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\t/** Create a CSV from an array of dictionaries */\n\tcreateCSV(data) {\n\t\t// Convert the array of dictionaries to CSV format\n\t\tconst csv = Papa.unparse(data);\n\n\t\t// Create a Blob containing the CSV data\n\t\tconst blob = new Blob([csv], { type: \"text/csv\" });\n\n\t\t// Create a download link\n\t\treturn URL.createObjectURL(blob);\n\t}\n\n\trender() {\n\t\t/* Login popup */\n\t\tif (!this.state.isAuthenticated) {\n\t\t\treturn (\n\t\t\t\t<ModalReact className=\"modal_dtp\" isOpen={!this.state.isAuthenticated}>\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tthis.submitPassword();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label htmlFor=\"password\">Enter Password:</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tonChange={this.handleChange.bind(this)}\n\t\t\t\t\t\t\t\tvalue={this.state.typedText}\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button type=\"submit\">Submit</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.state.showPasswordErrorMessage && (\n\t\t\t\t\t\t\t<div id=\"red\">Invalid password. Please re-enter.</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</form>\n\t\t\t\t</ModalReact>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"overall\">\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<div className=\"title\">Download Data</div>\n\n\t\t\t\t\t{!this.state.activitiesCSVurl && !this.state.resumeCSVurl && (\n\t\t\t\t\t\t<p>Processing...</p>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{this.state.activitiesCSVurl && (\n\t\t\t\t\t\t<div className=\"horizontal\" id=\"big\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={this.state.activitiesCSVurl}\n\t\t\t\t\t\t\t\tdownload={`activity_data.csv`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tActivity Data\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{this.state.resumeCSVurl && (\n\t\t\t\t\t\t<div className=\"horizontal\" id=\"big\">\n\t\t\t\t\t\t\t<a href={this.state.resumeCSVurl} download={`resume_data.csv`}>\n\t\t\t\t\t\t\t\tResume Data\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Admin;\n","import React from \"react\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport firebase from \"./firebase\";\nimport Resume from \"./Resume\";\nimport LandingPage from \"./LandingPage\";\nimport Admin from \"./Admin\";\nimport { IS_DEMO_VERSION } from \"./config\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nvar moment = require(\"moment-timezone\");\n\nexport default class App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.activityCounter = 1;\n\t\tthis.recordActivity = this.recordActivity.bind(this);\n\n\t\tthis.DATABASE = firebase.firestore();\n\n\t\t// This is hacky, but ReactRouter can't parse URL parameters unless inside a Route\n\t\tconst loc = document.location.hash;\n\t\tthis.studyVersion = parseInt(loc.split(\"/\")[1]);\n\t\tthis.resumeVersion = parseInt(loc.split(\"/\")[2]);\n\t\tthis.qualtricsUserId = loc.split(\"/\")[3];\n\n\t\t// Print for debugging purposes within Qualtrics\n\t\tconsole.log(\"qualtricsUserId: \" + this.qualtricsUserId);\n\t}\n\n\t/** Record the data (in Firebase, and print to console) */\n\tasync recordActivity(category, value, description) {\n\t\t// This will be the ID of the activity in Firebase -- a string, padded to 5 digits so alphabetical sorting works\n\t\tconst id = this.activityCounter.toString().padStart(5, \"0\");\n\t\tthis.activityCounter = this.activityCounter + 1;\n\n\t\tconst now = moment();\n\n\t\tif (!IS_DEMO_VERSION) {\n\t\t\tthis.DATABASE.collection(\"responseIDs\")\n\t\t\t\t.doc(this.qualtricsUserId)\n\t\t\t\t.collection(\"activityData_resume\" + this.resumeVersion.toString())\n\t\t\t\t.doc(id)\n\t\t\t\t.set({\n\t\t\t\t\tcategory: category,\n\t\t\t\t\tdescription: description,\n\t\t\t\t\tvalue: value,\n\t\t\t\t\ttimestamp: new Date(now),\n\t\t\t\t\ttimeEpoch: Number(now.format(\"x\")),\n\t\t\t\t\ttimeReadable: now.tz(\"America/Los_Angeles\").format(\"M-D-YY h:mm:ssa\"),\n\t\t\t\t});\n\t\t}\n\n\t\tconsole.log(id + \" \" + category + \": \" + value + \" -- \" + description);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.recordActivity(\"loading\", \"accessed\", \"App mounted\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<HashRouter>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/:studyVersion/:resumeVersion/:qualtricsUserId\"\n\t\t\t\t\t\trender={(props) => (\n\t\t\t\t\t\t\t<Resume\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\tstudyVersion={this.studyVersion}\n\t\t\t\t\t\t\t\tresumeVersion={this.resumeVersion}\n\t\t\t\t\t\t\t\trecordActivity={this.recordActivity}\n\t\t\t\t\t\t\t\tqualtricsUserId={this.qualtricsUserId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Route path=\"/admin\" render={() => <Admin />} />\n\n\t\t\t\t\t<Route path=\"/\" exact render={() => <LandingPage />} />\n\t\t\t\t</HashRouter>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}