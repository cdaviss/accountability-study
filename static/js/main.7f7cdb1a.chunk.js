(this["webpackJsonpdigital-trace-data"]=this["webpackJsonpdigital-trace-data"]||[]).push([[0],{37:function(e,t,n){},62:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var i=n(2),s=n(1),a=n.n(s),o=n(24),r=n.n(o),c=(n(62),n(15)),d=n(28),l=n(29),u=n(31),h=n(30),j=n(20),m=n(21),v=(n(37),n(97)),b=n(34),p=n.n(b),g=n(41);n(84);g.a.initializeApp({apiKey:"AIzaSyBpxU23CO0qhSXEwhe0KimIDfEnvGZI4II",authDomain:"digital-traces-project.firebaseapp.com",projectId:"digital-traces-project",storageBucket:"digital-traces-project.appspot.com",messagingSenderId:"478692864215",appId:"1:478692864215:web:84c3ed0c74f8fdc51a8092",measurementId:"G-XP5P2PWSF3"});var O=g.a,f=n(32),x=n(46),S=n(27),k=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this,e)).generateUniqueID=function(){var e=Math.floor(100*Math.random())+1,t=Math.floor((100*Math.random()+1)%s.IDlist.length);if(t<10||t>s.IDlist.length)s.generateUniqueID();else{var n=s.IDlist[t]+""+e;console.log("user ID: "+n);var i=O.firestore(),a=i.collection("studies").doc("study "+s.state.studyVersion).collection("userIDs").doc(n);a.get().then((function(e){e.exists?a.onSnapshot((function(e){s.generateUniqueID()})):(i.collection("studies").doc("study "+s.state.studyVersion).collection("userIDs").doc(n).set({}),s.setState({currentUserID:n},(function(){s.selectValues(),i.collection("settings").doc("mouse tracking").get().then((function(e){s.timer=setInterval(s.updateMouseCSV,e.data().interval)}))})))}))}},s.renderBulletList=function(){if(s.state.bulletList.length>0){var e=[];return s.state.bulletList.forEach((function(t,n){" "!==t&&""!==t&&null!==t&&e.push(Object(i.jsx)("li",{children:t},n))})),e}return null},s.renderPositionList=function(){if(s.positionList.length>0){var e=[];return s.positionList.forEach((function(t,n){e.push(Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"votingblock",children:[Object(i.jsxs)("div",{id:"vertical",children:[Object(i.jsx)("img",{name:"work"+(n+1)+"_up",src:s.state["work"+(n+1)+"_up"]?w("upvote_selected"):w("upvote"),onClick:s.voteClick,alt:"upvote"}),Object(i.jsx)("img",{name:"work"+(n+1)+"_q",src:s.state["work"+(n+1)+"_q"]?w("circle_selected"):w("circle"),onClick:s.voteClick,alt:"question mark"}),Object(i.jsx)("img",{name:"work"+(n+1)+"_down",src:s.state["work"+(n+1)+"_down"]?w("downvote_selected"):w("downvote"),onClick:s.voteClick,alt:"downvote"})]}),Object(i.jsxs)("div",{id:"subtext",children:[" ",t.data().title,Object(i.jsxs)("div",{id:"horizontal",children:[Object(i.jsx)("div",{id:"subinfo",children:t.data().company}),2===s.state.studyVersion&&s.state.remote&&0===n&&Object(i.jsx)("div",{id:"subinfo",children:Object(i.jsx)("i",{children:"Remote"})}),2===s.state.studyVersion&&!s.state.remote&&0===n&&Object(i.jsx)("div",{id:"subinfo",children:Object(i.jsx)("i",{children:s.state.city})}),2===s.state.studyVersion&&0!==n&&Object(i.jsx)("div",{id:"subinfo",children:Object(i.jsx)("i",{children:s.state.city})})]}),Object(i.jsx)("div",{id:"subinfogray",children:t.data().duration}),Object(i.jsx)("div",{id:"subinfo",children:t.data().description})]})]}),Object(i.jsx)(v.a,{})]},n))})),e}return null},s.state={educationOpenedCount:0,workexpOpenedCount:0,notesOpenedCount:0,x:0,y:0,modalOpened:!1,enterID:"",educationSectionOpened:!1,workSectionOpened:!1,city:"",initialNotes:"",degree:"",distinction:"",duration:"",major:"",university:"",parenthood:!0,education:0,work1:0,work2:0,remote:!0,education_up:!1,education_q:!1,education_down:!1,work1_up:!1,work1_q:!1,work1_down:!1,work2_up:!1,work2_q:!1,work2_down:!1,work3_up:!1,work3_q:!1,work3_down:!1,notes_up:!1,notes_q:!1,notes_down:!1,bulletList:[],remoteNotesText:""},s.collapsibleOpened=s.collapsibleOpened.bind(Object(m.a)(s)),s.submitUserID=s.submitUserID.bind(Object(m.a)(s)),s.handleChange=s.handleChange.bind(Object(m.a)(s)),s.voteClick=s.voteClick.bind(Object(m.a)(s)),s.renderBulletList=s.renderBulletList.bind(Object(m.a)(s)),s.positionList=[],s.mouseCounter=0,s.activityCounter=1,s.IDlist=["sheep","koala","whale","dolphin","panda","snake","bear","lion","tiger","celery","carrot","pizza","salad","chicken","burger","rice","eggs","soup","green","blue","purple","red","orange","yellow","silver","olive","pink","gold","shirt","pants","tree","smoke","planet","pencil","pen","cookie","cake","tire","phone","plant","north","east","south","west","right","left","canyon","mountain","park","field","snow","rain","beach","ocean","wind","storm","thunder","hill","road","traffic","cliff","waves","shell","island","sand","umbrella","swim","climb","dive","surf","hike","run","walk","bike","canoe","boat","ice","air","river","pond","lake","stream","canal","street","coffee","tea","soda","lunch","dinner","snack","eat","drink","sleep","wake","jump","fall","alaska","florida","idaho","ohio"],s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("study: "+this.props.studyVersion),O.firestore(),this.setState({studyVersion:this.props.studyVersion}),console.log("resume: "+this.props.resumeVersion),this.setState({resumeVersion:this.props.resumeVersion},(function(){1===e.state.resumeVersion?e.generateUniqueID():e.setState({modalOpened:!0})}))}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"selectValues",value:function(){var e=this,t=O.firestore();t.collection("resume").doc("study2_location").get().then((function(t){e.setState({city:t.data().city})}));var n=Math.random();n<.5?t.collection("resume").doc("notes from initial phone screen").get().then((function(t){e.setState({remoteNotesText:t.data().remote_text_1}),n=1})):t.collection("resume").doc("notes from initial phone screen").get().then((function(t){e.setState({remoteNotesText:t.data().remote_text_2}),n=2}));var i=Math.random();i<.5?(this.setState({gender_icon:"male_user"}),i="man"):(this.setState({gender_icon:"female_user"}),i="woman");var s=Math.random();s<.5?(this.setState({parenthood:!0},(function(){t.collection("resume").doc("notes from initial phone screen").get().then((function(t){var n=t.data().parent.toString(),s=(n="man"===i?n.replace("[pronoun]","his"):n.replace("[pronoun]","her")).split(".");e.setState({bulletList:s})}))})),s=!0):(this.setState({parenthood:!1},(function(){t.collection("resume").doc("notes from initial phone screen").get().then((function(t){var n=t.data().nonparent.toString(),s=(n="man"===i?n.replace("[pronoun]","his"):n.replace("[pronoun]","her")).split(".");e.setState({bulletList:s})}))})),s=!1);var a=Math.random();a<.5?(this.setState({education:0},(function(){t.collection("resume").doc("education a").get().then((function(t){e.setState({degree:t.data().degree}),e.setState({distinction:t.data().distinction}),e.setState({duration:t.data().duration}),e.setState({major:t.data().major}),e.setState({university:t.data().university})}))})),a="a"):(this.setState({education:1},(function(){t.collection("resume").doc("education b").get().then((function(t){e.setState({degree:t.data().degree}),e.setState({distinction:t.data().distinction}),e.setState({duration:t.data().duration}),e.setState({major:t.data().major}),e.setState({university:t.data().university})}))})),a="b");var o=Math.random();o<.5?(this.setState({work1:0},(function(){t.collection("resume").doc("work box 1a").get().then((function(t){e.positionList.push(t)}))})),o="a"):(this.setState({work1:1},(function(){t.collection("resume").doc("work box 1b").get().then((function(t){e.positionList.push(t)}))})),o="b");var r=Math.random();r<.5?(this.setState({work2:0},(function(){t.collection("resume").doc("work box 2a").get().then((function(t){e.positionList.push(t)}))})),r="a"):(this.setState({work2:1},(function(){t.collection("resume").doc("work box 2b").get().then((function(t){e.positionList.push(t)}))})),r="b");var c=Math.random();2===this.state.studyVersion?c<.5?(this.setState({remote:!0}),c=!0):(this.setState({remote:!1}),c=!1):c=null,t.collection("userIDs").doc(this.state.currentUserID).collection("values shown").doc("resume 1").set({gender:i,parenthood:s,education:a,work1:o,work2:r,remote:c,remoteNotesText:n})}},{key:"populateValues",value:function(){var e=this,t=O.firestore();t.collection("resume").doc("study2_location").get().then((function(t){e.setState({city:t.data().city})})),t.collection("userIDs").doc(this.state.currentUserID).collection("values shown").doc("resume 1").get().then((function(n){var i=null,s=null,a=null,o=null,r=null,c=null;n.data().remoteNotesText,t.collection("resume").doc("notes from initial phone screen").get().then((function(t){e.setState({remoteNotesText:t.data().remote_text_1})})),"man"===n.data().gender?(e.setState({gender_icon:"man"}),i="man"):(e.setState({gender_icon:"woman"}),i="woman"),!0===n.data().parenthood?(console.log("TRUE"),t.collection("resume").doc("notes from initial phone screen").get().then((function(t){var n=t.data().nonparent.toString(),s=(n="man"===i?n.replace("[pronoun]","his"):n.replace("[pronoun]","her")).split(".");e.setState({bulletList:s})})),s=!1):(console.log("FALSE"),t.collection("resume").doc("notes from initial phone screen").get().then((function(t){var n=t.data().parent.toString(),s=(n="man"===i?n.replace("[pronoun]","his"):n.replace("[pronoun]","her")).split(".");e.setState({bulletList:s})})),s=!0),"a"===n.data().education?(t.collection("resume").doc("education b").get().then((function(t){e.setState({degree:t.data().degree}),e.setState({distinction:t.data().distinction}),e.setState({duration:t.data().duration}),e.setState({major:t.data().major}),e.setState({university:t.data().university})})),a="b"):(t.collection("resume").doc("education a").get().then((function(t){e.setState({degree:t.data().degree}),e.setState({distinction:t.data().distinction}),e.setState({duration:t.data().duration}),e.setState({major:t.data().major}),e.setState({university:t.data().university})})),a="a"),"a"===n.data().work1?(t.collection("resume").doc("work box 1b").get().then((function(t){e.positionList.push(t)})),o="b"):(t.collection("resume").doc("work box 1a").get().then((function(t){e.positionList.push(t)})),o="a"),"a"===n.data().work2?(t.collection("resume").doc("work box 2b").get().then((function(t){e.positionList.push(t)})),r="b"):(t.collection("resume").doc("work box 2a").get().then((function(t){e.positionList.push(t)})),r="a"),2===e.state.studyVersion&&(!0===n.data().remote?(e.setState({remote:!1}),c=!1):(e.setState({remote:!0}),c=!0)),t.collection("userIDs").doc(e.state.currentUserID).collection("values shown").doc("resume 2").set({gender:i,parenthood:s,education:a,work1:o,work2:r,work3:null,remote:c})}))}},{key:"collapsibleOpened",value:function(e){var t=O.firestore();this.activityCounter=this.activityCounter+1;var n=this.activityCounter.toString(),i="",s=(new Date).toLocaleString("en-US",{hour12:!1});0===e?(this.setState((function(e){return{educationOpenedCount:e.educationOpenedCount+1}})),i="opened education section"):1===e&&(this.setState((function(e){return{workexpOpenedCount:e.workexpOpenedCount+1}})),i="opened work section"),t.collection("studies").doc("study "+this.state.studyVersion).collection("userIDs").doc(this.state.currentUserID).collection("activityData_resume"+this.state.resumeVersion.toString()).doc(n).set({time:s,description:i})}},{key:"submitUserID",value:function(){var e=this;if(null!==this.state.enterID&&""!==this.state.enterID){var t=this.state.enterID.replace(/[.,/#!$%^&*;:{}=\-_'`~()]/g,"");t=(t=t.replace(/\s{2,}/g," ")).replace(/\s/g,"");var n=O.firestore(),i=n.collection("studies").doc("study "+this.state.studyVersion).collection("userIDs").doc(t);i.get().then((function(s){s.exists?i.onSnapshot((function(i){console.log("VALID: THIS DOES EXIST"),e.setState({errorMessage:!1}),e.setState({currentUserID:t},(function(){e.populateValues(),n.collection("settings").doc("mouse tracking").get().then((function(t){e.timer=setInterval(e.updateMouseCSV,t.data().interval)})),e.setState({modalOpened:!1})}))})):(console.log("INVALID: DOES NOT EXIST"),e.setState({errorMessage:!0}))}))}else this.setState({errorMessage:!0})}},{key:"handleChange",value:function(e){this.setState({enterID:e.target.value})}},{key:"voteClick",value:function(e){var t=this,n=O.firestore();this.activityCounter=this.activityCounter+1;var i=this.activityCounter.toString(),s=(new Date).toLocaleString("en-US",{hour12:!1});this.setState(Object(j.a)({},e.target.name,!this.state[e.target.name]),(function(){t.state[e.target.name]?(n.collection("studies").doc("study "+t.state.studyVersion).collection("userIDs").doc(t.state.currentUserID).collection("activityData_resume"+t.state.resumeVersion.toString()).doc(i).set({time:s,description:"clicked "+e.target.name+" button"}),"work1_up"===e.target.name?t.setState({work1_down:!1,work1_q:!1}):"work2_up"===e.target.name?t.setState({work2_down:!1,work2_q:!1}):"work3_up"===e.target.name?t.setState({work3_down:!1,work3_q:!1}):"work1_down"===e.target.name?t.setState({work1_up:!1,work1_q:!1}):"work2_down"===e.target.name?t.setState({work2_up:!1,work2_q:!1}):"work3_down"===e.target.name?t.setState({work3_up:!1,work3_q:!1}):"work1_q"===e.target.name?t.setState({work1_up:!1,work1_down:!1}):"work2_q"===e.target.name?t.setState({work2_up:!1,work2_down:!1}):"work3_q"===e.target.name?t.setState({work3_up:!1,work3_down:!1}):"education_down"===e.target.name?t.setState({education_up:!1,education_q:!1}):"education_up"===e.target.name?t.setState({education_down:!1,education_q:!1}):"education_q"===e.target.name?t.setState({education_up:!1,education_down:!1}):"notes_down"===e.target.name?t.setState({notes_up:!1,notes_q:!1}):"notes_up"===e.target.name?t.setState({notes_down:!1,notes_q:!1}):"notes_q"===e.target.name&&t.setState({notes_up:!1,notes_down:!1})):n.collection("studies").doc("study "+t.state.studyVersion).collection("userIDs").doc(t.state.currentUserID).collection("activityData_resume"+t.state.resumeVersion.toString()).doc(i).set({time:s,description:"unclicked "+e.target.name+" button"})}))}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{className:"overall",children:[Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)("div",{className:"resume",children:[Object(i.jsxs)(p.a,{className:"modal_dtp",isOpen:this.state.modalOpened,children:[Object(i.jsx)("div",{children:"enter code: "}),Object(i.jsx)("input",{onChange:this.handleChange.bind(this),value:this.state.enterID}),Object(i.jsx)("button",{onClick:function(){return e.submitUserID()},children:" Submit "}),this.state.errorMessage&&Object(i.jsx)("div",{id:"red",children:"Invalid ID. Please re-enter."})]}),!this.state.modalOpened&&Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{className:"profile_image",src:w(this.state.gender_icon),alt:"a man"}),Object(i.jsxs)("div",{className:"header",children:["Candidate ",1===this.state.resumeVersion?"A":"B"]}),Object(i.jsxs)("div",{className:"votingblock_notes",children:[Object(i.jsx)(y,{state:this.state,onClick:this.voteClick,sectionName:"education"}),Object(i.jsxs)("div",{className:"notes",children:["Notes from Initial Phone Screen:",Object(i.jsx)("span",{id:"subtext_bullet",children:Object(i.jsxs)("ul",{children:[2===this.state.studyVersion&&this.state.remote&&Object(i.jsx)("li",{children:this.state.remoteNotesText}),this.renderBulletList()]})})]})]}),Object(i.jsxs)(f.a,{children:[Object(i.jsxs)(S.a,{children:[Object(i.jsx)(S.a.Header,{style:{background:"white",paddingLeft:0,paddingRight:0},children:Object(i.jsxs)(f.a.Toggle,{as:x.a,style:{color:"black",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"18px",alignItems:"center"},variant:"link",eventKey:"0",onClick:function(){return e.setState({educationSectionOpened:!e.state.educationSectionOpened},(function(){e.collapsibleOpened(0),e.state.educationSectionOpened&&e.setState({workSectionOpened:!1})}))},children:["Education"," ",Object(i.jsx)("img",{id:"toggle_icon",src:this.state.educationSectionOpened?w("minus_icon"):w("plus_icon"),alt:"toggle icon"})]})}),Object(i.jsx)(f.a.Collapse,{eventKey:"0",children:Object(i.jsx)(S.a.Body,{children:Object(i.jsxs)("div",{className:"votingblock",children:[Object(i.jsxs)("div",{id:"vertical",children:[Object(i.jsx)("img",{name:"education_up",src:this.state.education_up?w("upvote_selected"):w("upvote"),onClick:this.voteClick,alt:"upvote"}),Object(i.jsx)("img",{name:"education_q",src:this.state.education_q?w("circle_selected"):w("circle"),onClick:this.voteClick,alt:"question mark"}),Object(i.jsx)("img",{name:"education_down",src:this.state.education_down?w("downvote_selected"):w("downvote"),onClick:this.voteClick,alt:"downvote"})]}),Object(i.jsxs)("div",{id:"subtext",children:[this.state.university,Object(i.jsxs)("div",{id:"subinfo",children:[this.state.degree,", ",this.state.major]}),Object(i.jsx)("div",{id:"subinfogray",children:this.state.duration})]})]})})})]}),Object(i.jsxs)(S.a,{children:[Object(i.jsx)(S.a.Header,{style:{background:"white",paddingLeft:0,paddingRight:0,borderTop:"1px solid black"},children:Object(i.jsxs)(f.a.Toggle,{as:x.a,style:{color:"black",width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"18px",alignItems:"center"},variant:"link",eventKey:"1",onClick:function(){return e.setState({workSectionOpened:!e.state.workSectionOpened},(function(){e.collapsibleOpened(1),e.state.workSectionOpened&&e.setState({educationSectionOpened:!1})}))},children:["Work Experience"," ",Object(i.jsx)("img",{id:"toggle_icon",src:this.state.workSectionOpened?w("minus_icon"):w("plus_icon"),alt:"toggle icon"})]})}),Object(i.jsx)(f.a.Collapse,{eventKey:"1",children:Object(i.jsx)(S.a.Body,{children:this.renderPositionList()})})]})]})]})]})}),1===this.state.resumeVersion&&Object(i.jsx)("div",{className:"userID",children:Object(i.jsx)("strong",{children:this.state.currentUserID})})]})}}]),n}(a.a.Component);function w(e){return"".concat("/online-survey-digital-trace-data","/images/").concat(e,".png")}var y=function(e){var t=e.state,n=e.clickFunction,s=e.sectionName;return Object(i.jsxs)("div",{className:"vertical",children:[Object(i.jsx)("img",{name:"".concat(s,"_up"),src:t["".concat(s,"_up")]?w("upvote_selected"):w("upvote"),onClick:n,alt:"upvote"}),Object(i.jsx)("img",{name:"".concat(s,"_q"),src:t["".concat(s,"_q")]?w("circle_selected"):w("circle"),onClick:n,alt:"question mark"}),Object(i.jsx)("img",{name:"".concat(s,"_down"),src:t["".concat(s,"_down")]?w("downvote_selected"):w("downvote"),onClick:n,alt:"downvote"})]})},_=n(55),D=n(6),C=n(43),V=n.n(C),I=n(54),L=n(9),M=(n(51),n(26)),N=(n(79),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var s,a;return Object(d.a)(this,n),(a=t.call(this,e)).renderMouseData=function(e){var t="masterMouse"+e;if(a[t].length>0){var n=[];return a[t].forEach((function(e,t){n.push(Object(i.jsx)("div",{children:Object(i.jsxs)(M.CSVLink,{data:e[1],filename:e[0]+"_mouseData.csv",children:[e[0],"_mouseData"]})}))})),n}return null},a.renderActivityData=function(e){var t="masterActivity"+e;if(a[t].length>0){var n=[];return a[t].forEach((function(e,t){n.push(Object(i.jsx)("div",{children:Object(i.jsxs)(M.CSVLink,{data:e[1],filename:e[0]+"_activityData.csv",children:[e[0],"_activityData"]})}))})),n}return null},a.renderResumeData=function(e){var t="masterResume"+e;if(a[t].length>0){var n=[];return a[t].forEach((function(e,t){n.push(Object(i.jsx)("div",{children:Object(i.jsxs)(M.CSVLink,{data:e[1],filename:e[0]+"_resumeData.csv",children:[e[0],"_resumeData"]})}))})),n}return null},a.renderMouseSingle=function(e){var t="singleMouse"+e;if(a[t].length>0){var n=[];return n.push(Object(i.jsx)("div",{children:Object(i.jsx)(M.CSVLink,{data:a[t],filename:"mouseData"+e+".csv",children:"mouseData"+e+".csv"})})),n}return null},a.renderActivitySingle=function(e){var t="singleActivity"+e;if(a[t].length>0){var n=[];return n.push(Object(i.jsx)("div",{children:Object(i.jsx)(M.CSVLink,{data:a[t],filename:"activityData"+e+".csv",children:"activityData"+e+".csv"})})),n}return null},a.renderResumeSingle=function(e){var t="singleResume"+e;if(a[t].length>0){var n=[];return n.push(Object(i.jsx)("div",{children:Object(i.jsx)(M.CSVLink,{data:a[t],filename:"resumeData"+e+".csv",children:"resumeData"+e+".csv"})})),n}return null},a.state=(s={studyVersion:1,resumeVersion:1,generatedID:"",errorMessage:!1,activityData:[],loading1mouse:!0,loading2mouse:!0,loading3mouse:!0,loading1activity:!0,loading2activity:!0,loading3activity:!0,loading1resume:!0,loading2resume:!0,loading3resume:!0,mousestate:!1,study1:[],password:""},Object(j.a)(s,"errorMessage",!1),Object(j.a)(s,"modalOpened",!0),Object(j.a)(s,"adminVersion","singleCSV"),Object(j.a)(s,"buttonText","Switch to individual CSV format"),s),a.study1List=[],a.study2List=[],a.study3List=[],a.masterMouse1=[],a.masterMouse2=[],a.masterMouse3=[],a.masterActivity1=[],a.masterActivity2=[],a.masterActivity3=[],a.masterResume1=[],a.masterResume2=[],a.masterResume3=[],a.singleMouse1=[],a.singleMouse2=[],a.singleMouse3=[],a.singleActivity1=[],a.singleActivity2=[],a.singleActivity3=[],a.singleResume1=[],a.singleResume2=[],a.singleResume3=[],a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("mounted")}},{key:"getMouseContent",value:function(e,t){var n=this,i="masterMouse"+t,s=[],a=[],o="singleMouse"+t,r=[],c=O.firestore().collection("studies").doc("study "+t).collection("userIDs").doc(e).collection("mouseData_resume1").onSnapshot((function(d){d.forEach((function(t){a=[t.data().time,t.data().x,t.data().y,1],s=[].concat(Object(L.a)(s),[a]),r=[e,t.data().time,t.data().x,t.data().y,1],n[o]=[].concat(Object(L.a)(n[o]),[r])})),c();var l=O.firestore().collection("studies").doc("study "+t).collection("userIDs").doc(e).collection("mouseData_resume2").onSnapshot((function(t){t.forEach((function(t){a=[t.data().time,t.data().x,t.data().y,2],s=[].concat(Object(L.a)(s),[a]),r=[e,t.data().time,t.data().x,t.data().y,2],n[o]=[].concat(Object(L.a)(n[o]),[r])}));var c=[e,s];n[i]=[].concat(Object(L.a)(n[i]),[c]),n.setState({loading2mouse:!0}),l()}))}))}},{key:"getActivityContent",value:function(e,t){var n=this,i="masterActivity"+t,s=[],a=[],o="singleActivity"+t,r=[],c=O.firestore().collection("studies").doc("study "+t).collection("userIDs").doc(e).collection("activityData_resume1").onSnapshot((function(d){d.forEach((function(t){a=[t.data().time,t.data().description,1],s=[].concat(Object(L.a)(s),[a]),r=[e,t.data().time,t.data().description,1],n[o]=[].concat(Object(L.a)(n[o]),[r])})),c();var l=O.firestore().collection("studies").doc("study "+t).collection("userIDs").doc(e).collection("activityData_resume2").onSnapshot((function(t){t.forEach((function(t){a=[t.data().time,t.data().description,2],s=[].concat(Object(L.a)(s),[a]),r=[e,t.data().time,t.data().description,2],n[o]=[].concat(Object(L.a)(n[o]),[r])}));var c=[e,s];n[i]=[].concat(Object(L.a)(n[i]),[c]),n.setState({loading2activity:!0}),l()}))}))}},{key:"getResumeContent",value:function(e,t){var n=this,i="masterResume"+t,s=[],a=[],o="singleResume"+t,r=[],c=O.firestore().collection("userIDs").doc(e).collection("values shown").doc("resume 1");c.get().then((function(t){if(t.exists)var d=c.onSnapshot((function(t){var c=t.data().parenthood;0==c&&(c="false");var l=t.data().remote;null==l&&(l="N/A"),a=[t.data().education,t.data().gender,c,l,t.data().work1,t.data().work2,t.data().work3,1],s=[].concat(Object(L.a)(s),[a]),r=[e,t.data().education,t.data().gender,c,l,t.data().work1,t.data().work2,t.data().work3,1],n[o]=[].concat(Object(L.a)(n[o]),[r]),n.setState({loading2resume:!0}),d();var u=O.firestore().collection("userIDs").doc(e).collection("values shown").doc("resume 2");u.get().then((function(t){if(t.exists)var c=u.onSnapshot((function(t){var d=t.data().parenthood;0==d&&(d="false");var l=t.data().remote;null==l&&(l="N/A"),a=[t.data().education,t.data().gender,d,l,t.data().work1,t.data().work2,t.data().work3,2],s=[].concat(Object(L.a)(s),[a]);var u=[e,s];n[i]=[].concat(Object(L.a)(n[i]),[u]),r=[e,t.data().education,t.data().gender,d,l,t.data().work1,t.data().work2,t.data().work3,2],n[o]=[].concat(Object(L.a)(n[o]),[r]),n.setState({loading2resume:!0}),c()}));else{console.log("did not find part 2 for "+e);var d=[e,s];n[i]=[].concat(Object(L.a)(n[i]),[d]),n.setState({loading2resume:!0})}}))}));else console.log("did not find part 1 for "+e)}))}},{key:"getStudyLists",value:function(){var e=Object(I.a)(V.a.mark((function e(){var t,n,i,s=this;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.firestore().collection("studies").doc("study 1").collection("userIDs").get();case 2:return(t=e.sent).docs.length>0&&(this.study1List=Object(L.a)(t.docs),this.study1List.forEach((function(e,t){s.getMouseContent(e.id,1),s.getActivityContent(e.id,1),s.getResumeContent(e.id,1)})),this.setState({loading1mouse:!1})),e.next=6,O.firestore().collection("studies").doc("study 2").collection("userIDs").get();case 6:return(n=e.sent).docs.length>0&&(this.study2List=Object(L.a)(n.docs),this.study2List.forEach((function(e,t){s.getMouseContent(e.id,2),s.getActivityContent(e.id,2),s.getResumeContent(e.id,2)})),this.setState({loading2mouse:!1})),e.next=10,O.firestore().collection("studies").doc("study 3").collection("userIDs").get();case 10:(i=e.sent).docs.length>0&&(this.study3List=Object(L.a)(i.docs),this.study3List.forEach((function(e,t){s.getMouseContent(e.id,3),s.getActivityContent(e.id,3),s.getResumeContent(e.id,3)})),this.setState({loading3mouse:!1}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({errorMessage:!1}),this.setState({password:e.target.value})}},{key:"submitPassword",value:function(){"$bhMNKt8K6"==this.state.password?(this.setState({modalOpened:!1}),this.getStudyLists()):this.setState({errorMessage:!0})}},{key:"switchAdminFormat",value:function(){"individualCSV"==this.state.adminVersion?(this.setState({adminVersion:"singleCSV"}),this.setState({buttonText:"Switch to individual CSV format"})):(this.setState({adminVersion:"individualCSV"}),this.setState({buttonText:"Switch to single CSV format"})),console.log("switched")}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{className:"overall",children:[Object(i.jsxs)(p.a,{className:"modal_dtp",isOpen:this.state.modalOpened,children:[Object(i.jsx)("div",{children:" Enter password: "}),Object(i.jsx)("input",{onChange:this.handleChange.bind(this),value:this.state.password}),Object(i.jsx)("button",{onClick:function(){return e.submitPassword()},children:" Submit "}),this.state.errorMessage&&Object(i.jsx)("div",{id:"red",children:"Invalid password. Please re-enter."})]}),Object(i.jsxs)("button",{onClick:function(){return e.switchAdminFormat()},children:[" ",this.state.buttonText," "]}),Object(i.jsx)("div",{className:"title",children:"Download Data"}),Object(i.jsxs)("div",{className:"horizontal",id:"big",children:[Object(i.jsx)("div",{children:"Mouse Data"}),Object(i.jsx)("div",{children:"Activity Data"}),Object(i.jsx)("div",{children:"Resume Data"})]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"list",children:[Object(i.jsx)("div",{id:"title",children:"Study 1: "}),"individualCSV"==this.state.adminVersion&&Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)("div",{children:this.renderMouseData(1)}),Object(i.jsx)("div",{children:this.renderActivityData(1)}),Object(i.jsx)("div",{children:this.renderResumeData(1)})]}),"singleCSV"==this.state.adminVersion&&Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)("div",{children:this.renderMouseSingle(1)}),Object(i.jsx)("div",{children:this.renderActivitySingle(1)}),Object(i.jsx)("div",{children:this.renderResumeSingle(1)})]})]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"list",children:[Object(i.jsx)("div",{id:"title",children:"Study 2: "}),"individualCSV"==this.state.adminVersion&&Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)("div",{children:this.renderMouseData(2)}),Object(i.jsx)("div",{children:this.renderActivityData(2)}),Object(i.jsx)("div",{children:this.renderResumeData(2)})]}),"singleCSV"==this.state.adminVersion&&Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)("div",{children:this.renderMouseSingle(2)}),Object(i.jsx)("div",{children:this.renderActivitySingle(2)}),Object(i.jsx)("div",{children:this.renderResumeSingle(2)})]})]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"list",children:[Object(i.jsx)("div",{id:"title",children:"Study 3: "}),"individualCSV"==this.state.adminVersion&&Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)("div",{children:this.renderMouseData(3)}),Object(i.jsx)("div",{children:this.renderActivityData(3)}),Object(i.jsx)("div",{children:this.renderResumeData(3)})]}),"singleCSV"==this.state.adminVersion&&Object(i.jsxs)("div",{className:"horizontal",children:[Object(i.jsx)("div",{children:this.renderMouseSingle(3)}),Object(i.jsx)("div",{children:this.renderActivitySingle(3)}),Object(i.jsx)("div",{children:this.renderResumeSingle(3)})]})]})]})}}]),n}(a.a.Component)),A=N;function q(e){e.props;return Object(i.jsxs)("div",{className:"LandingPage container",children:[Object(i.jsx)("h1",{children:"Pretend this is the Qualtrics Survey"}),Object(i.jsx)("h2",{children:"You'll have some questions"}),Object(i.jsx)("p",{children:"And information and such"}),Object(i.jsx)("p",{children:"And then you can embed the Digital Trace Data page."})]})}var R=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={},i}return Object(l.a)(n,[{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsxs)(_.a,{children:[Object(i.jsx)(D.a,{path:"/v1r1",render:function(e){return Object(i.jsx)(k,Object(c.a)(Object(c.a)({},e),{},{studyVersion:1,resumeVersion:1}))}}),Object(i.jsx)(D.a,{path:"/v1r2",render:function(e){return Object(i.jsx)(k,Object(c.a)(Object(c.a)({},e),{},{studyVersion:1,resumeVersion:2}))}}),Object(i.jsx)(D.a,{path:"/v2r1",render:function(e){return Object(i.jsx)(k,Object(c.a)(Object(c.a)({},e),{},{studyVersion:2,resumeVersion:1}))}}),Object(i.jsx)(D.a,{path:"/v2r2",render:function(e){return Object(i.jsx)(k,Object(c.a)(Object(c.a)({},e),{},{studyVersion:2,resumeVersion:2}))}}),Object(i.jsx)(D.a,{path:"/v3r1",render:function(e){return Object(i.jsx)(k,Object(c.a)(Object(c.a)({},e),{},{studyVersion:3,resumeVersion:1}))}}),Object(i.jsx)(D.a,{path:"/v3r2",render:function(e){return Object(i.jsx)(k,Object(c.a)(Object(c.a)({},e),{},{studyVersion:3,resumeVersion:2}))}}),Object(i.jsx)(D.a,{path:"/admin",render:function(e){return Object(i.jsx)(A,{})}}),Object(i.jsx)(D.a,{path:"/",exact:!0,render:function(e){return Object(i.jsx)(q,{})}})]})})}}]),n}(a.a.Component);r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(R,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.7f7cdb1a.chunk.js.map